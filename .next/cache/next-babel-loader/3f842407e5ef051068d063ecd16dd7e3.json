{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport Link from 'next/link';\nimport Error from 'next/error';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channels = _this$props.channels,\n          statusCode = _this$props.statusCode;\n\n      if (statusCode !== 200) {\n        return __jsx(Error, {\n          statusCode: statusCode\n        });\n      }\n\n      return __jsx(\"div\", {\n        className: \"jsx-2696879883\"\n      }, __jsx(\"header\", {\n        className: \"jsx-2696879883\"\n      }, \"Podcast\"), __jsx(\"div\", {\n        className: \"jsx-2696879883\" + \" \" + \"channels\"\n      }, channels && channels.map(function (item) {\n        return __jsx(Link, {\n          href: \"/channel?id=\".concat(item.id),\n          prefetch: true\n        }, __jsx(\"a\", {\n          className: \"jsx-2696879883\" + \" \" + \"channel\"\n        }, __jsx(\"img\", {\n          src: item.urls.logo_image.original,\n          className: \"jsx-2696879883\"\n        }), __jsx(\"h2\", {\n          className: \"jsx-2696879883\"\n        }, item.title)));\n      })), __jsx(_JSXStyle, {\n        id: \"1516676642\"\n      }, \"header.jsx-2696879883{color:#fff;background:#8756ca;padding:15px;text-align:center;}.channels.jsx-2696879883{display:grid;grip-gap:30px;padding:20px;grip-template-columns:repeat(auto-fill,minmax(300px,1fr));}.channel.jsx-2696879883{display:block;border-radius:3px;box-shadow:0px 2px 6px rgba(0,0,0,0.15);margin-bottom:0.5em;}.channel.jsx-2696879883 img.jsx-2696879883{width:100%;}h2.jsx-2696879883{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3BlcmN5c29mdC9uZXh0anMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUNvQixBQUd3QixBQU1FLEFBTUMsQUFNSCxBQUdDLFdBcEJPLEFBa0JyQixDQUdrQixDQWZGLENBTUksYUFMTCxDQWVHLEVBckJILEVBWThCLFFBTGlCLEdBTjFDLENBcUJULFNBQ1MsUUFyQnBCLFVBc0JBLENBWHNCLG9CQUN0QixNQU5BIiwiZmlsZSI6Ii9ob21lL3BlcmN5c29mdC9uZXh0anMvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2lzb21vcnBoaWMtZmV0Y2gnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBFcnJvciBmcm9tICduZXh0L2Vycm9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBcbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyh7IHJlcyB9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXEgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy9yZWNvbW1lbmRlZCcpXG4gICAgICBsZXQgeyBib2R5OiBjaGFubmVscyB9ID0gYXdhaXQgcmVxLmpzb24oKVxuICAgICAgcmV0dXJuIHsgY2hhbm5lbHMsIHN0YXR1c0NvZGU6IDIwMCB9O1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVzLnN0YXR1c0NvZGUgPSA1MDM7XG4gICAgICByZXR1cm4geyBjaGFubmVsczogbnVsbCwgc3RhdHVzQ29kZTogNTAzIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKXtcbiAgY29uc3QgeyBjaGFubmVscywgc3RhdHVzQ29kZSB9ID0gdGhpcy5wcm9wczsgXG4gICAgaWYoIHN0YXR1c0NvZGUgIT09IDIwMCApIHtcbiAgICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17c3RhdHVzQ29kZX0gLz47XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aGVhZGVyPlBvZGNhc3Q8L2hlYWRlcj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFubmVsc1wiPlxuICAgICAgICAgIHtjaGFubmVscyAmJlxuICAgICAgICAgICAgY2hhbm5lbHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvY2hhbm5lbD9pZD0ke2l0ZW0uaWR9YH0gcHJlZmV0Y2g+XG4gICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJjaGFubmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtpdGVtLnVybHMubG9nb19pbWFnZS5vcmlnaW5hbH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGgyPntpdGVtLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICBoZWFkZXIge1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjODc1NmNhO1xuICAgICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNoYW5uZWxzIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgICBncmlwLWdhcDogMzBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICBncmlwLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5jaGFubmVsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNWVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY2hhbm5lbCBpbWcge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGgyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpO1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSJdfQ== */\\n/*@ sourceURL=/home/percysoft/nextjs/pages/index.js */\"), __jsx(_JSXStyle, {\n        id: \"2429003776\"\n      }, \"body{margin:0;background:white;font-family:system-ui;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3BlcmN5c29mdC9uZXh0anMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUUyQixBQUdzQixTQUNRLGlCQUNLLHNCQUN4QiIsImZpbGUiOiIvaG9tZS9wZXJjeXNvZnQvbmV4dGpzL3BhZ2VzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdpc29tb3JwaGljLWZldGNoJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnbmV4dC9lcnJvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgXG4gIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMoeyByZXMgfSkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvcmVjb21tZW5kZWQnKVxuICAgICAgbGV0IHsgYm9keTogY2hhbm5lbHMgfSA9IGF3YWl0IHJlcS5qc29uKClcbiAgICAgIHJldHVybiB7IGNoYW5uZWxzLCBzdGF0dXNDb2RlOiAyMDAgfTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlcy5zdGF0dXNDb2RlID0gNTAzO1xuICAgICAgcmV0dXJuIHsgY2hhbm5lbHM6IG51bGwsIHN0YXR1c0NvZGU6IDUwMyB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCl7XG4gIGNvbnN0IHsgY2hhbm5lbHMsIHN0YXR1c0NvZGUgfSA9IHRoaXMucHJvcHM7IFxuICAgIGlmKCBzdGF0dXNDb2RlICE9PSAyMDAgKSB7XG4gICAgICByZXR1cm4gPEVycm9yIHN0YXR1c0NvZGU9e3N0YXR1c0NvZGV9IC8+O1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGhlYWRlcj5Qb2RjYXN0PC9oZWFkZXI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbm5lbHNcIj5cbiAgICAgICAgICB7Y2hhbm5lbHMgJiZcbiAgICAgICAgICAgIGNoYW5uZWxzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2NoYW5uZWw/aWQ9JHtpdGVtLmlkfWB9IHByZWZldGNoPlxuICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiY2hhbm5lbFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17aXRlbS51cmxzLmxvZ29faW1hZ2Uub3JpZ2luYWx9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMj57aXRlbS50aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgaGVhZGVyIHtcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogIzg3NTZjYTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5jaGFubmVscyB7XG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgZ3JpcC1nYXA6IDMwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgZ3JpcC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY2hhbm5lbCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNoYW5uZWwgaW1nIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoMiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iXX0= */\\n/*@ sourceURL=/home/percysoft/nextjs/pages/index.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var res, req, _ref2, channels;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                res = _ref.res;\n                _context.prev = 1;\n                _context.next = 4;\n                return fetch('https://api.audioboom.com/channels/recommended');\n\n              case 4:\n                req = _context.sent;\n                _context.next = 7;\n                return req.json();\n\n              case 7:\n                _ref2 = _context.sent;\n                channels = _ref2.body;\n                return _context.abrupt(\"return\", {\n                  channels: channels,\n                  statusCode: 200\n                });\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](1);\n                res.statusCode = 503;\n                return _context.abrupt(\"return\", {\n                  channels: null,\n                  statusCode: 503\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 12]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/percysoft/nextjs/pages/index.js"],"names":["Link","Error","props","channels","statusCode","map","item","id","urls","logo_image","original","title","res","fetch","req","json","body","React","Component"],"mappings":";;;;;;;;;;AAAA,OAAO,kBAAP;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,YAAlB;;;;;;;;;;;;;;;6BAeU;AAAA,wBACyB,KAAKC,KAD9B;AAAA,UACAC,QADA,eACAA,QADA;AAAA,UACUC,UADV,eACUA,UADV;;AAEN,UAAIA,UAAU,KAAK,GAAnB,EAAyB;AACvB,eAAO,MAAC,KAAD;AAAO,UAAA,UAAU,EAAEA;AAAnB,UAAP;AACD;;AACD,aACE;AAAA;AAAA,SACE;AAAA;AAAA,mBADF,EAEE;AAAA,4CAAe;AAAf,SACGD,QAAQ,IACPA,QAAQ,CAACE,GAAT,CAAa,UAAAC,IAAI,EAAI;AACnB,eACE,MAAC,IAAD;AAAM,UAAA,IAAI,wBAAiBA,IAAI,CAACC,EAAtB,CAAV;AAAsC,UAAA,QAAQ;AAA9C,WACE;AAAA,8CAAa;AAAb,WACE;AAAK,UAAA,GAAG,EAAED,IAAI,CAACE,IAAL,CAAUC,UAAV,CAAqBC,QAA/B;AAAA;AAAA,UADF,EAEE;AAAA;AAAA,WAAKJ,IAAI,CAACK,KAAV,CAFF,CADF,CADF;AAQD,OATD,CAFJ,CAFF;AAAA;AAAA;AAAA;AAAA,gwGADF;AAwDD;;;;;;;;;;;;;AAxE8BC,gBAAAA,G,QAAAA,G;;;uBAEXC,KAAK,CAAC,gDAAD,C;;;AAAjBC,gBAAAA,G;;uBAC2BA,GAAG,CAACC,IAAJ,E;;;;AAAnBZ,gBAAAA,Q,SAANa,I;iDACC;AAAEb,kBAAAA,QAAQ,EAARA,QAAF;AAAYC,kBAAAA,UAAU,EAAE;AAAxB,iB;;;;;AAEPQ,gBAAAA,GAAG,CAACR,UAAJ,GAAiB,GAAjB;iDACO;AAAED,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,UAAU,EAAE;AAA9B,iB;;;;;;;;;;;;;;;;;;;EATgBa,KAAK,CAACC,S","sourcesContent":["import 'isomorphic-fetch';\nimport Link from 'next/link';\nimport Error from 'next/error';\n\nexport default class extends React.Component {\n  \n  static async getInitialProps({ res }) {\n    try {\n      let req = await fetch('https://api.audioboom.com/channels/recommended')\n      let { body: channels } = await req.json()\n      return { channels, statusCode: 200 };\n    } catch(e) {\n      res.statusCode = 503;\n      return { channels: null, statusCode: 503 }\n    }\n  }\n\n  render(){\n  const { channels, statusCode } = this.props; \n    if( statusCode !== 200 ) {\n      return <Error statusCode={statusCode} />;\n    }\n    return (\n      <div>\n        <header>Podcast</header>\n        <div className=\"channels\">\n          {channels &&\n            channels.map(item => {\n              return (\n                <Link href={`/channel?id=${item.id}`} prefetch>\n                  <a className=\"channel\">\n                    <img src={item.urls.logo_image.original} />\n                    <h2>{item.title}</h2>\n                  </a>\n                </Link>\n              );\n            })}\n        </div>\n\n        <style jsx>{`\n          header {\n            color: #fff;\n            background: #8756ca;\n            padding: 15px;\n            text-align: center;\n          }\n          .channels {\n            display: grid;\n            grip-gap: 30px;\n            padding: 20px;\n            grip-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          }\n          .channel {\n            display: block;\n            border-radius: 3px;\n            box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n            margin-bottom: 0.5em;\n          }\n          .channel img {\n            width: 100%;\n          }\n          h2 {\n            padding: 5px;\n            font-size: 0.9em;\n            font-weight: 600;\n            margin: 0;\n            text-align: center;\n          }\n        `}</style>\n        <style jsx global>{`\n          body {\n            margin: 0;\n            background: white;\n            font-family: system-ui;\n          }\n        `}</style>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}